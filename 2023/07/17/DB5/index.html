<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="JinChengJun">
    
    <title>
        
            数据库系统概论五（数据库设计) |
        
        JinChengJun&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    
<link rel="stylesheet" href="/font/css/fontawesome.min.css">

    
<link rel="stylesheet" href="/font/css/regular.min.css">

    
<link rel="stylesheet" href="/font/css/solid.min.css">

    
<link rel="stylesheet" href="/font/css/brands.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en","path":"search.json"}
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066cc","logo":"/images/logo.svg","favicon":"/images/logo.svg","avatar":"/images/touxiang.png","font_size":null,"font_family":null,"hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"header_transparent":false,"background_img":"/images/bg.svg","description":"Keep writing || and Keep loving.","font_color":null,"hitokoto":false},"scroll":{"progress_bar":true,"percent":true}},"local_search":{"enable":true,"preload":true},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":false},"lazyload":{"enable":false},"comment":{"enable":false,"use":"valine","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.8"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":true,"custom_label_list":["Trainee","Engineer","Architect"]},"word_count":{"enable":true,"wordcount":true,"min2read":false},"img_align":"center","copyright_info":true},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"}
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"}
    KEEP.language_copy_copyright = {"copy":"Copy copyright info","copied":"Copied","title":"Original article title","author":"Original article author","link":"Original article link"}
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/logo.svg">
                </a>
            
            <a class="logo-title" href="/">
               JinChengJun&#39;s Blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">数据库系统概论五（数据库设计)</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/touxiang.png">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">JinChengJun</span>
                            
                                <span class="author-label">Lv1</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2023-07-17 15:18:36</span>
        <span class="mobile">2023-07-17 15:18</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2023-07-17 11:23:45</span>
    </span>
    
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/DataBase/">DataBase</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/DataBase/">DataBase</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                

                <hr>
<p>数据库设计：设计数据库本身，设计数据库的各级模式并建立数据库。</p>
<h2 id="一、数据库设计概述"><a href="#一、数据库设计概述" class="headerlink" title="一、数据库设计概述"></a>一、数据库设计概述</h2><h3 id="（一）数据库设计的特点"><a href="#（一）数据库设计的特点" class="headerlink" title="（一）数据库设计的特点"></a>（一）数据库设计的特点</h3><p>“三分技术，七分管理，十二分基础数据”</p>
<p>数据的收集、整理、组织和不断更新是数据库建设中的重要环节。</p>
<h3 id="（二）结构设计和行为设计相结合"><a href="#（二）结构设计和行为设计相结合" class="headerlink" title="（二）结构设计和行为设计相结合"></a>（二）结构设计和行为设计相结合</h3><img src="https://cdn.staticaly.com/gh/Jinking1/picx-images-hosting@master/image-20230717104722313.soetl7qypts.webp" alt="image-20230717104722313" style="zoom:67%;" />

<h3 id="（三）数据库设计的基本步骤"><a href="#（三）数据库设计的基本步骤" class="headerlink" title="（三）数据库设计的基本步骤"></a>（三）数据库设计的基本步骤</h3><img src="https://cdn.staticaly.com/gh/Jinking1/picx-images-hosting@master/image-20230717105153688.1j17la3ljbs0.webp" alt="image-20230717105153688" style="zoom:67%;" />

<p>1、需求分析阶段</p>
<p>首先必须了解与分析用户的需求。需求分析是整个设计过程的基础。</p>
<p>2、概念结构设计阶段</p>
<p>概念结构设计是整个数据库设计的关键，通过对用户进行综合、归纳、抽象，形成一个独立于具体数据库管理系统的概念模型</p>
<p>3、逻辑结构设计阶段</p>
<p>将概念结构设计转换为某个数据库管理系统所支持的数据模型</p>
<p>4、物理结构设计阶段</p>
<p>将逻辑数据模型结构转换为一个最适合的物理结构（包括存储结构和存取方法）</p>
<p>5、数据库实施阶段</p>
<p>设计人员运用数据库管理系统提供的数据库语言及其宿主语言，根据逻辑设计和物理设计的结果建立数据库，编写程序，进行测试</p>
<p>6、数据库运行和维护阶段</p>
<p>数据库应用系统经试运行可以正式运行，运行过程中对数据库不断地评估、调整和整改。</p>
<img src="https://cdn.staticaly.com/gh/Jinking1/picx-images-hosting@master/image-20230717105829913.5pf95cy7h7c0.webp" alt="image-20230717105829913" style="zoom:67%;" />

<h3 id="（四）数据库设计过程中的各级模式"><a href="#（四）数据库设计过程中的各级模式" class="headerlink" title="（四）数据库设计过程中的各级模式"></a>（四）数据库设计过程中的各级模式</h3><img src="https://cdn.staticaly.com/gh/Jinking1/picx-images-hosting@master/image-20230717110519365.4gp659zt0cy0.webp" alt="image-20230717110519365" style="zoom:67%;" />

<h2 id="二、需求分析"><a href="#二、需求分析" class="headerlink" title="二、需求分析"></a>二、需求分析</h2><h3 id="（一）需求分析的任务"><a href="#（一）需求分析的任务" class="headerlink" title="（一）需求分析的任务"></a>（一）需求分析的任务</h3><p>调查的重点是”数据“和”处理“，通过调查、收集和分析，获得用户对数据库的如下要求：</p>
<p>1、信息要求</p>
<p>2、处理要求</p>
<p>3、安全性与完整性要求</p>
<h3 id="（二）需求分析的方法"><a href="#（二）需求分析的方法" class="headerlink" title="（二）需求分析的方法"></a>（二）需求分析的方法</h3><p>调查用户的具体步骤：</p>
<p>1、调查组织机构情况</p>
<p>2、调查各部门的业务活动情况</p>
<p>3、在熟悉业务活动的基础上，协助用户明确对新系统的各种要求</p>
<p>4、确定新系统的边界</p>
<h3 id="（三）数据字典"><a href="#（三）数据字典" class="headerlink" title="（三）数据字典"></a>（三）数据字典</h3><p>它是关于数据库中数据的描述，即元数据，而不是数据本身。数据字典是在需求分析阶段建立，在数据库设计过程中不断修改、充实、完善的。它在数据库设计中占有很重要的地位。</p>
<h2 id="三、概念结构设计"><a href="#三、概念结构设计" class="headerlink" title="三、概念结构设计"></a>三、概念结构设计</h2><h3 id="（一）概念模型"><a href="#（一）概念模型" class="headerlink" title="（一）概念模型"></a>（一）概念模型</h3><p>   在需求分析阶段所得到的应用需求应该首先抽象为信息世界的结构，然后才能更改、更准确地用某一数据库管理系统实现这些需求。<br>   概念模型的主要特点：</p>
<ol>
<li>能真实、充分地反映现实世界，包括事物和事物之间的联系，能满足用户对数据的处理要求，是现实世界的一个真是模型。</li>
<li>易于理解，可以用它和不熟悉计算机的用户交换意见。用户的积极参与是数据库设计成功的关键。</li>
<li>易于更改，当应用环境和应用要求改变时容易对概念模型修改和扩充。</li>
<li>易于向关系、网状、层次等各种数据模型转换。<br>   概念模型是各种数据模型的共同基础，它比数据模型更独立于机器、更抽象，从而更加稳定。描述概念模型的有力工具是E-R模型。</li>
</ol>
<h3 id="（二）E-R模型"><a href="#（二）E-R模型" class="headerlink" title="（二）E-R模型"></a>（二）E-R模型</h3><p>1、E-R图简介<br>      E-R图也称实体-联系图(Entity Relationship Diagram)，提供了表示实体类型、属性和联系的方法，用来描述现实世界的概念模型。</p>
<p>  它是描述现实世界关系概念模型的有效方法。是表示概念关系模型的一种方式。用“矩形框”表示实体型，矩形框内写明实体名称；用“椭圆图框”或圆角矩形表示实体的属性，并用“实心线段”将其与相应关系的“实体型”连接起来；</p>
<p>  用”菱形框“表示实体型之间的联系成因，在菱形框内写明联系名，并用”实心线段“分别与有关实体型连接起来，同时在”实心线段“旁标上联系的类型（1:1,1:n或m:n）。</p>
<p>2、E-R图成分<br>      在ER图中有四个成分，矩形框，菱形框，椭圆形框和连线。</p>
<p>（1）矩形框</p>
<p> 矩形框表示实体，在框中记入实体名。</p>
<p>（2）菱形框</p>
<p>菱形框表示联系，在框中记入联系名。</p>
<p>（3）椭圆形框</p>
<p>  椭圆形框表示实体或联系的属性，将属性名记入框中。对于主属性名，则在其名称下划一下划线。</p>
<p>（4）连线</p>
<p>  实体与属性之间；实体与联系之间；联系与属性之间用直线相连，并在直线上标注联系的类型。（对于一对一联系，要在两个实体连线方向各写1； 对于一对多联系，要在一的一方写1，多的一方写N；对于多对多关系，则要在两个实体连线方向各写N,M。) </p>
<p>3、一般性约束<br>      实体-联系数据模型中的联系型，存在3种一般性约束：一对一约束（联系）、一对多约束（联系）和多对多约束（联系），它们用来描述实体集之间的数量约束。</p>
<p>（1）一对一联系(1 ∶1)</p>
<p>  对于两个实体集A和B，若A中的每一个值在B中至多有一个实体值与之对应，反之亦然，则称实体集A和B具有一对一的联系。一个学校只有一个正校长，而一个校长只在一个学校中任职，则学校与校长之间具有一对一联系。</p>
<p>（2）一对多联系(1 ∶N)</p>
<p>  对于两个实体集A和B，若A中的每一个值在B中有多个实体值与之对应，反之B中每一个实体值在A中至多有一个实体值与之对应，则称实体集A和B具有一对多的联系。</p>
<p>   例如，某校教师与课程之间存在一对多的联系“教”，即每位教师可以教多门课程，但是每门课程只能由一位教师来教。一个专业中有若干名学生，而每个学生只在一个专业中学习，则专业与学生之间具有一对多联系</p>
<p>（3） 多对多联系(M ∶N)</p>
<p>   对于两个实体集A和B，若A中每一个实体值在B中有多个实体值与之对应，反之亦然，则称实体集A与实体集B具有多对多联系</p>
<p>  例如，表示学生与课程间的联系“选修 ”是多对多的，即一个学生可以学多门课程，而每门课程可以有多个学生来学。联系也可能有属性。例如，学生“ 选修” 某门课程所取得的成绩，既不是学生的属性也不是课程的属性。由于“ 成绩” 既依赖于某名特定的学生又依赖于某门特定的课程，所以它是学生与课程之间的联系“ 选修”的属性。</p>
<p>4、弱实体<br>     弱实体(weak entity)是一种数据库系统术语。其定义为一个实体对于另一个实体（一般为强实体，也可以是依赖于其他强实体的弱实体）具有很强的依赖联系，而且该实体主键的一部分或全部从其强实体（或者对应的弱实体依赖的强实体）中获得，则称该实体为弱实体。</p>
<p> 在现实世界中，有些实体对一另一些实体有很强的依赖关系，即一个实体的存在必须以另一实体的存在为前提。前者就称为”弱实体”，如在人事管理系统中，职工子女的信息就是以职工的存在为前提的，子女实体是弱实体，子女与职工的联系是一种依赖联系。在ER图中用双线框表示弱实体。用箭头表示依赖联系。又如，学生家长是一种弱实体，因为只有学生实体存在，家长实体才会存在。用箭头表示依赖联系。</p>
<h3 id="（三）概念结构设计"><a href="#（三）概念结构设计" class="headerlink" title="（三）概念结构设计"></a>（三）概念结构设计</h3><p> 概念结构设计的第一步就是对需求分析阶段收集到的数据进行分类、组织，确定实体、实体的属性、实体之间的联系类型，形成E-R图。</p>
<ol>
<li>实体与属性的划分原则</li>
</ol>
<p>事实上，在现实世界中具有的应用环境常常对实体和属性已经作了自然的大体划分。<br>为了简化E-R图的处置，现实世界的事物能作为属性的对待的尽量作为属性对待，不过要满足：</p>
<ol>
<li><p>作为属性，不能再具有需要描述的性质，即属性必须是不可分的数据项，不能包含其他属性。</p>
</li>
<li><p>属性不能与其他实体具有联系，即E-R图中所表示的联系是实体之间的联系。</p>
</li>
<li><p>E-R图的集成</p>
</li>
</ol>
<p>E-R图的集成步骤图示：</p>
<ol>
<li>合并<br>解决各分E-R图之间的冲突，将分E-R图合并起来生成初步E-R图。<br>合理消除各E-R图中的冲突是合并E-R图的主要工作与关键所在。各子系统的E-R图之间的冲突主要有三类：<br>1）属性冲突：属性域冲突，即属性值的类型、取值范围或取值集合不同；属性取值单位冲突。<br>2）命名冲突：同名异义，即不同意义的对象在不同的局部应用中具有相同的名字；异义同名（一义多名），即同一意义的对象再不同的局部应用中具有不同的名字。<br>3）结构冲突：同一对象在不同应用中具有不同的抽象；同一实体在不同子系统的E-R图中所包含的属性个数和属性排列次序不完全相同；实体间的联系在不听的E-R图中为不同的类型。</li>
<li>修改和重构<br>消除不必要的冗余，生成基本E-R图。所谓冗余的数据是指可由基本数据导出的数据，冗余的联系是指可由其他联系导出的联系。冗余数据和冗余联系容易破坏数据库的完整性，给数据库维护增加困难，应当予以消除。<br>分析方法消除冗余，即以数据字典和数据流图为依据，根据数据字典中关于数据项之间逻辑关系的说明来消冗余。</li>
</ol>
<p>规范化理论消除冗余，具体方法可以分为<br>1）确定分E-R图实体之间的数据依赖。实体之间一对一、一对多、多对多的联系可以用实体码之间的函数依赖来表示。<br>2）求Fl的最小覆盖Gl，差集为D&#x3D;Fl-Gl。<br>备注：并不是所有的冗余数据与冗余联系都必须加于消除，有时候为了提高效率不得不以冗余信息作为代价</p>
<h2 id="四、逻辑结构设计"><a href="#四、逻辑结构设计" class="headerlink" title="四、逻辑结构设计"></a>四、逻辑结构设计</h2><h3 id="（一）概念"><a href="#（一）概念" class="headerlink" title="（一）概念"></a>（一）概念</h3><p>​        逻辑结构设计是将概念结构设计阶段完成的概念模型，转换成能被选定的数据库管理系统(DBMS)支持的数据模型。这里主要将E-R模型转换为关系模式。需要具体说明把原始数据进行分解、合并后重新组织起来的数据库全局逻辑结构，包括所确定的关键字和属性、重新确定的记录结构和文件结构、所建立的各个文件之间的相互关系，形成本数据库的数据库管理员视图。一般的逻辑设计分为以下3步：初始关系模式设计、关系模式规范化、模式的评价与改进。</p>
<h3 id="（二）初始关系模式设计（E-R图转换关系模式）"><a href="#（二）初始关系模式设计（E-R图转换关系模式）" class="headerlink" title="（二）初始关系模式设计（E-R图转换关系模式）"></a>（二）初始关系模式设计（E-R图转换关系模式）</h3><p>1、实体集向关系模式的转换<br>        实体集的转换规则：一个实体型转换为一个关系模式。实体的属性就是关系的属性，实体的码就的码。</p>
<p>例：学生实体可以转换为如下关系模式：</p>
<p>学生（学号，姓名，性别，出生日期，所在系，年级）</p>
<p>2、两个实体型之间的联系集向关系模式的转换<br>（1）1：1联系的转换</p>
<p>​    1:1联系可以转换为一个独立的关系模式，也可以与任意一端对应的关系模式合并。</p>
<p>​    如果转换为一个独立的关系模式，则与该联系相连的各实体的主码以及联系本身的属性均转换为关系的属性，每个实体的主码均是该关系的候选码。如果与某一端对应的关系模式合并，则需要在该关系模式的属性中加入另一个关系模式的主码和联系本身的属性。</p>
<p>（2）1:n联系转换</p>
<p>​     1:n联系可以转换为一个独立的关系模式，也可以与n端对应的关系模式合并。</p>
<p>​    若转换为一个独立的关系模式，则与该联系相连的各实体的主码以及联系本身的属性均转换为关系的属性，而关系的主码为n端实体的主码。若与n端关系模式合并，则在n端实体集中增加新属性，新属性由联系对应的1端实体集的主码和联系自身的属性构成，而关系模式的主码不变。</p>
<p>(3)m:n联系的转换</p>
<p>​    与该联系相连的各实体的码以及联系本身的属性均转换为关系的属性。而关系的码为各实体码的组合。 </p>
<p>3、同一实体型之间的联系集向关系模式的转换<br>        同一实体型的实体间的联系即自联系，也可按上述1:1、1:n和m:n三种情况分别处理。</p>
<p> （1)1：1联系的转换</p>
<p>（2）1:n联系的转换</p>
<p>（3）m:n联系的转换</p>
<p>4、多实体型之间的联系向关系模式的转换<br>        两个以上的实体型间也存在着1:1、1:n和m:n三种情况。</p>
<p>（1）1：n的多元联系</p>
<p>​    修改1端实体集对应的关系，即将与联系相关的其他实体集的码和联系自身的属性作为新属性加入到1端实体集中。</p>
<p>（2）m:n的多元联系</p>
<p>​    新建一个独立的关系，多元联系相连的各实体的码以及联系本身的属性均转换为关系的属性。而关系的码为各实体码的组合。</p>
<p>5、弱实体集向关系模式的转换<br>        强实体集和弱实体集的概念与存在依赖密切相关，强实体集的成员必然是支配实体，而弱实体集的成员是从属实体。由于弱实体不能独立存在，它必须依附于一个所有者实体，因此将弱实体集转换成关系模式时，弱实体所对应的关系中必须包含所有者实体的主码。</p>
<h3 id="（三）关系模式规范化"><a href="#（三）关系模式规范化" class="headerlink" title="（三）关系模式规范化"></a>（三）关系模式规范化</h3><p>1、概念<br>        数据库逻辑设计的结果不是唯一的。为了进一步提高数据库应用系统的性能，还应该根据应用需要适当修改、调整数据模型的结构，这就是数据模型的优化。关系数据模型的优化通常以规范化理论为指导，将关系模式规范化，使之达到较高的范式是设计好关系模式的唯一途径，否则，设计的关系数据库会产生一系列的问题。</p>
<p>​    一个“好”的关系模式应当不会发生插入和删除异常，冗余度要尽可能少。对于存在问题的关系模式，可以通过模式分解的方法使之规范化。“分解”是解决冗余的主要方法，也是规范化的一条原则，“关系模式有冗余问题，就分解它”。</p>
<p>​    函数依赖基本概念<br>​    规范化是指用形式更为简洁、结构更加规范的关系模式取代原有关系模式的过程。</p>
<p>​    关系模式必须满足一定的完整性约束条件以达到现实世界对数据的要求。完整性约束条件主要包括以下两个方面：</p>
<p>​    对属性取值范围的限定</p>
<p>​    属性值间的相互联系(主要体现在值的相等与否)，这种联系称为数据依赖。</p>
<p>​    客观世界的事物间存在着错综复杂的联系，实体间的联系有两类：一类是实体与实体之间的联系；另一类是实体内部各属性间的联系。而属性间的联系可分为3类：</p>
<p>​    一对一联系(1:1)。设X和Y是关系R的两个属性(集)。如果对于X中的任一具体值，Y中至多有一值与之对应；反之亦然，则称X、Y两属性间是一对一联系。</p>
<p>​    一对多联系(1:n)。设X和Y是关系R的两个属性(集)。如果对于X中的任意具体值，Y中至多有一个值与之对应，而Y中的一个值却可以在X中的n个值(n≥0)相对应，则称Y对X是一对多联系。</p>
<p>​    多对多联系(m:n)。设X和Y是关系R的两个属性(集)。如果对于X中的任意具体值，Y中有m个值(m≥0)与之对应，而Y中的一个值也可以和X中的n个值(n≥0)相对应，则称Y对X是多对多联系。</p>
<p>​    数据依赖是指通过一个关系中属性间值的相等与否体现出来的数据间的相互关系，是现实世界属性间相互联系的抽象，是数据内在的性质。数据依赖共有3种：</p>
<p>​    函数依赖(Functional Dependency, FD)</p>
<p>​    多值依赖(Multivalued Dependency, MVD)</p>
<p>​    连接依赖(Join Dependency, JD)</p>
<p>​    其中最重要的是函数依赖和多值依赖。</p>
<p>​    在数据依赖中，函数依赖是最基本、最重要的一种依赖，它是属性之间的一种联系，假设给定一个属性的值，就可以唯一确定(查找到)另一个属性的值。这种唯一性并非指只有一个记录，而是指任何记录。</p>
<p>​    设有关系模式R(U)，X和Y均为U&#x3D;{A1, A2, …, An}的子集，r是R的任一具体关系，r中不可能存在两个元组在X上的属性值相等，而在Y上的属性值不等(也就是说，如果对于r中的任意两个元组t和s，只要有t[X]&#x3D;s[X]，就有t[Y]&#x3D;s[Y])，则称X函数决定Y，或称Y函数依赖于X，记作X→Y，其中X叫作决定因素(Determinant)，Y叫作依赖因素(Dependent)。</p>
<p>​    属性间联系决定函数依赖。</p>
<p>​    1:1联系。如果两属性集X、Y之间是1:1联系，则存在函数依赖X←→Y。</p>
<p>​    1:n联系。如果两属性集X、Y之间是n:1联系，则存在函数依赖X→Y。</p>
<p>​    m:n联系。如果两属性集X、Y之间是m:n联系，则不存在函数依赖。</p>
<p>​    识别函数依赖是理解数据语义的一个组成部分，依赖是关于现实世界的断言，它不能被证明，决定关系模式中函数依赖的唯一方法是仔细考察属性的含义。</p>
<p>2、范式</p>
<p>​    利用规范化理论，使关系模式的函数依赖集满足特定的要求，满足特定要求的关系模式称为范式(Normal Form)。关系按其规范化程度从低到高可分为5级范式，分别称为1NF、2NF、3NF(BCNF)、4NF、5NF。规范化程度较高者必是较低者的子集。一个低一级范式的关系模式，通过模式分解可以转换成若干个高一级范式的关系模式的集合，这个过程称为规范化。</p>
<p>（1）第一范式(1NF)<br>        如果关系模式R中不包含多值属性(每个属性必须是不可分的数据项)，则R满足第一范式(First Normal Form)，记作R∈1NF 。1NF是规范化的最低要求，是关系模式要遵循的最基本的范式，不满足1NF的关系是非规范化的关系。关系模式如果仅仅满足1NF是不够的，只有对关系模式继续规范化，使之满足更高的范式，才能得到高性能的关系模式。</p>
<p>（2）第二范式(2NF)<br>        如果关系模式R(U, F)∈1NF，且R中的每个非主属性完全函数依赖于R的某个候选码，则R满足第二范式(Second Normal Form)，记作R∈2NF。不满足2NF的关系模式，会产生以下几个问题：插入异常、删除异常、更新异常。解决的办法是用投影分解把关系模式分解为多个关系模式。投影分解是把非主属性及决定因素分解出来构成新的关系，决定因素在原关系中保持，函数依赖关系相应分开转化(将关系模式中部分依赖的属性去掉，将部分依赖的属性单组组成一个新的模式)。</p>
<p>（3）第三范式(3NF)<br>        如果关系模式R(U, F)∈2NF，且每个非主属性都不传递函数依赖于任何候选码，则R满足第三范式(Third Normal Form)，记作R∈3NF。解决的办法同样是投影分解。3NF是一个可用的关系模式应满足的最低范式，也就是说，一个关系模式如果不满足3NF，则实际上它是不能使用的。</p>
<p>四、模式的评价与改进<br>        关系模式的规范化不是目的而是手段，数据库设计的目的是最终满足应用需求。因此，为了进一步提高数据库应用系统的性能，还应该对规范化后产生的关系模式进行评价、改进，经过反复多次的尝试和比较，最后得到优化的关系模式。</p>
<h2 id="五、物理结构设计"><a href="#五、物理结构设计" class="headerlink" title="五、物理结构设计"></a>五、物理结构设计</h2><p>为一个给定的逻辑数据模型选定一个最合适应用要求的物理结构的过程，就是数据库的物理设计。</p>
<ol>
<li>物理设计步骤<br>数据库的物理设计通常分为两步：</li>
</ol>
<p>(1) 确定数据库的物理结构，在关系数据库中主要指存取方法和存储结构。</p>
<p>(2) 对物理结构进行评价，评价的重点是时间和空间效率。</p>
<p>如果评价结果满足原设计要求，则可进入到物理实施阶段，否则，就需要重新设计或修改物理结构，有时甚至还要返回逻辑设计阶段修改数据模型。</p>
<ol start="2">
<li>数据库物理设计的内容和方法<br>希望设计优化的物理数据库结构，使得在数据库上运行的各种事务相应时间小，存储空间利用率高，事务吞吐率大，因此需要：</li>
</ol>
<p>(1) 首先要对运行的事务进行详细分析，获得选择物理数据库设计所需要的参数。</p>
<p>(2)要充分了解所用关系数据库管理系统的内部特征，特别是系统提供的存取方法和存储结构。</p>
<ol start="3">
<li>关系模式存取方法选择<br>B+树索引存取方法的选择<br>选择索引存取方法就是根据应用要求确定对关系的那些属性列建立索引，哪些属性列建立组合索引，哪些索引要设计唯一索引等。</li>
</ol>
<p>如果一个（或一组）属性经常在查询条件中出现，则考虑在这个（或这组）属性上建立索引（或组合索引）。<br>如果一个属性经常作为最大值和最小值等聚集函数的参数，则考虑在这个属性上建立索引。<br>如果一个（或一组）属性经常在连接操作的连接条件中出现，则考虑在这个（或这组）属性上建立索引。<br>关系上定义的索引数并不是越多越好，系统为维护索引要付出代价，查找索引也要付出代价。</p>
<p>hash索引存取方法的选择<br>选择hash存取方法的规则：如果一个关系的属性主要出现在等值连接条件中或主要出现在等值比较选择条件中，而且满足下列两个条件之一，则此关系可以选择hash存取方法。</p>
<p>一个关系的大小可预知，而且不变。<br>关系的大小动态改变，但数据库管理系统提供了动态hash存取方法。<br>聚簇存取方法的选择<br>为了提高某个属性（或属性组）的查询速度，把这个或这些属性（称为聚簇码）上具有相同值的元组集中存放在连续的物理块中称为聚簇。</p>
<p>聚簇功能可以大大提高按聚簇码进行查询的效率，聚簇功能不单适用于单个关系，也适用于经常进行连接操作的多个关系。一个数据库可以连接多个聚簇，一个关系只能加入一个聚簇。</p>
<p>(1) 设计候选聚簇的条件</p>
<p>对经常在一起进行连接操作的关系可以建立聚簇。<br>如果一个关系的一组属性经常出现在相等比较条件中，则该单个关系可建立聚簇。<br>如果一个关系的一个（或一组）属性上的值重复率很高，则此单个关系可建立聚簇。即对应每个聚簇码值的平均元组数不能太少。<br>(2) 检查候选聚簇</p>
<p>从聚簇中删除经常进行全表扫描的关系。<br>从聚簇中删除更新操作远多于连接操作的关系。<br>不同的聚簇中可能包含相同的关系，一个关系可以在某一个聚簇中，但不能同时加入多个聚簇。要从这多个聚簇方案（包括不建立聚簇）中选择一个较优的，即在这个聚簇上运行各种事务的总代价最小。<br>4. 确定数据库的存储结构<br>确定数据库物理结构主要指确定数据的存放位置和存储结构，包括确定关系、索引、聚簇、日志、备份等的存储安排和存储结构，确定系统配置等。<br>确定数据的存放位置和存储结构要综合考虑存取时间、存储空间利用率和维护代价三方面的因素。这三个方面常常是相互矛盾的，因此需要进行权衡选择一个折中方案。</p>
<p>确定数据的存放位置<br>为了提高系统性能，应根据应用情况将数据的易变部分与稳定部分、经常存取部分和存取频率较低部分分开存放。</p>
<p>确定系统配置<br>关系数据库管理系统产品一般都提供了一些系统配置变量和存储分配参数，供设计人员和数据库管理员对数据库进行物理优化。初始情况下，系统都为这些变量赋予了合理的默认值。但是这些值不一定适合每一种应用环境，在进行物理设计时需要重新对些变量赋值，以修改系统的性能。</p>
<ol start="5">
<li>评价物理结构</li>
</ol>
<p>  评价物理数据库的方法完全依赖于所选用的关系数据库管理系统，主要是从定量估算各种方案的存储空间、存取时间和维护代价入手，对估算结果进行权衡、比较，选择出一个较优的、合理的物理结构。如果该结构不符合用户需求，则需要修改设计。</p>
<h2 id="六、数据库的实施和维护"><a href="#六、数据库的实施和维护" class="headerlink" title="六、数据库的实施和维护"></a>六、数据库的实施和维护</h2><h3 id="（一）数据的载入和应用程序的调试"><a href="#（一）数据的载入和应用程序的调试" class="headerlink" title="（一）数据的载入和应用程序的调试"></a>（一）数据的载入和应用程序的调试</h3><p>数据库应用程序的设计应该与数据库设计同时进行。</p>
<h3 id="（二）数据库的试运行"><a href="#（二）数据库的试运行" class="headerlink" title="（二）数据库的试运行"></a>（二）数据库的试运行</h3><p>先输入小批量数据做调试用，待试运行基本合格后再大批量输入数据，逐步增加数据量，逐步完成运行评价。要做好数据库的转储和恢复工作。一旦故障发生，能使数据库尽快恢复，尽量减少对数据库的破坏。</p>
<h3 id="（三）数据库的运行和维护"><a href="#（三）数据库的运行和维护" class="headerlink" title="（三）数据库的运行和维护"></a>（三）数据库的运行和维护</h3><ul>
<li>数据库的转储和恢复</li>
<li>数据库的安全性、完整性控制</li>
<li>数据库性能的监督、分析和改造</li>
<li>数据库的重组织和重构造</li>
</ul>

            </div>

            
                <div class="post-copyright-info">
                    
<div class="article-copyright-info-container">
    <ul class="copyright-info-content">
        <li class="post-title">
            <span class="type">Post title</span>: <span class="content">数据库系统概论五（数据库设计)</span>
        </li>
        <li class="post-author">
            <span class="type">Post author</span>: <span class="content">JinChengJun</span>
        </li>
        <li class="post-time">
            <span class="type">Create time</span>: <span class="content">2023-07-17 15:18:36</span>
        </li>
        <li class="post-link">
            <span class="type">Post link</span>: <span class="content">2023/07/17/DB5/</span>
        </li>
        <li class="post-license">
            <span class="type">Copyright notice</span>: <span class="content">All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.</span>
        </li>
    </ul>
    <div class="copy-copyright-info flex-center tooltip" data-content="Copy copyright info" data-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/DataBase/">#DataBase</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="/2023/07/17/DB3/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">数据库系统概论三（关系型数据库标准语言SQL)</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="/2023/07/17/DB4/"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">数据库系统概论四（数据库完整性)</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">一、数据库设计概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-number">1.1.</span> <span class="nav-text">（一）数据库设计的特点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%92%8C%E8%A1%8C%E4%B8%BA%E8%AE%BE%E8%AE%A1%E7%9B%B8%E7%BB%93%E5%90%88"><span class="nav-number">1.2.</span> <span class="nav-text">（二）结构设计和行为设计相结合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4"><span class="nav-number">1.3.</span> <span class="nav-text">（三）数据库设计的基本步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E5%9B%9B%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E5%90%84%E7%BA%A7%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.4.</span> <span class="nav-text">（四）数据库设计过程中的各级模式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="nav-number">2.</span> <span class="nav-text">二、需求分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E7%9A%84%E4%BB%BB%E5%8A%A1"><span class="nav-number">2.1.</span> <span class="nav-text">（一）需求分析的任务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">2.2.</span> <span class="nav-text">（二）需求分析的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="nav-number">2.3.</span> <span class="nav-text">（三）数据字典</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="nav-number">3.</span> <span class="nav-text">三、概念结构设计</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="nav-number">3.1.</span> <span class="nav-text">（一）概念模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89E-R%E6%A8%A1%E5%9E%8B"><span class="nav-number">3.2.</span> <span class="nav-text">（二）E-R模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="nav-number">3.3.</span> <span class="nav-text">（三）概念结构设计</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="nav-number">4.</span> <span class="nav-text">四、逻辑结构设计</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E6%A6%82%E5%BF%B5"><span class="nav-number">4.1.</span> <span class="nav-text">（一）概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E5%88%9D%E5%A7%8B%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E8%AE%BE%E8%AE%A1%EF%BC%88E-R%E5%9B%BE%E8%BD%AC%E6%8D%A2%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="nav-number">4.2.</span> <span class="nav-text">（二）初始关系模式设计（E-R图转换关系模式）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E8%A7%84%E8%8C%83%E5%8C%96"><span class="nav-number">4.3.</span> <span class="nav-text">（三）关系模式规范化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="nav-number">5.</span> <span class="nav-text">五、物理结构设计</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%9E%E6%96%BD%E5%92%8C%E7%BB%B4%E6%8A%A4"><span class="nav-number">6.</span> <span class="nav-text">六、数据库的实施和维护</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%BD%E5%85%A5%E5%92%8C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E8%AF%95"><span class="nav-number">6.1.</span> <span class="nav-text">（一）数据的载入和应用程序的调试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AF%95%E8%BF%90%E8%A1%8C"><span class="nav-number">6.2.</span> <span class="nav-text">（二）数据库的试运行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%BF%90%E8%A1%8C%E5%92%8C%E7%BB%B4%E6%8A%A4"><span class="nav-number">6.3.</span> <span class="nav-text">（三）数据库的运行和维护</span></a></li></ol></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2022</span> -
            
            2023
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">JinChengJun</a>
            
        </div>
        
            <script async 
                    src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                
                    Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.6.1</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>





    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-block.js"></script>





<div class="post-scripts">
    
        
<script src="/js/post-helper.js"></script>

        
            
<script src="/js/libs/anime.min.js"></script>

        
        
            
<script src="/js/toc.js"></script>

        
    
</div>



</body>
</html>
